<!DOCTYPE html>
<html>
  <head>
    <title>Login Page</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
    <link rel="stylesheet" href="./style.css">
    <link rel="shortcut icon" type="image/png" href="./userAccess-icon.png"></link>
  </head>
  <body>
    <div class="video">
        <video loop muted autoplay id="video">
            <source src="./assets/Flying-Math.mp4" type="video/mp4">
                This file type is not supported
        </video>
    </div>
    <h1>Login</h1>
    <form action="#" method="POST">
      <label for="email">Email:</label>
      <input type="email" id="email" placeholder="Enter email" title="Please enter your email">
      <label for="username">User Name:</label>
      <input type="text" id="username" placeholder="Enter user name" title="Please enter your username">
      <label for="password">Password:</label>
      <input type="password" id="password" placeholder="Enter password" title="Please enter your password"><br>
      <!-- <label for="remember-me">
        <input type="checkbox" id="remember-me" name="remember-me">
        Remember me
      </label> -->
      <button id="submit" title="Click here to log in">Submit</button>
    </form>
    <div id="error-message"></div>
    <script>
      $(document).ready(() => {
        $('#submit').click((event) => {
          event.preventDefault();

          const email = $('#email').val();
          const username = $('#username').val();
          const password = $('#password').val();

          let errorMessage = '';

          if (!email) {
            errorMessage += 'Email is required.<br>';
          } else if (!/^[a-z0-9._%+-]+@(northeastern)\.edu$/i.test(email)) {
            errorMessage += 'Email should be a northeastern email.<br>';
          }

          if (!username) {
            errorMessage += 'User Name is required.<br>';
          }

          if (!password) {
            errorMessage += 'Password is required.<br>';
          }

          if (errorMessage) {
            $('#error-message').html(errorMessage);
          } else {
            localStorage.setItem('username', username);
            window.location.replace('./calculator.html');
          }
        });
      });
    </script>
  </body>
</html>
